<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Práctica: Multiplicación 2 cifras × 2 cifras</title>
  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      margin: 0;
      padding: 0;
      background: #f5f5f5;
    }

    header {
      background: #2c3e50;
      color: white;
      padding: 16px 24px;
      text-align: center;
    }

    main {
      max-width: 900px;
      margin: 20px auto 40px;
      background: white;
      padding: 20px 24px 30px;
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.08);
    }

    h1 {
      margin: 0;
      font-size: 1.4rem;
    }

    .descripcion {
      margin-top: 8px;
      color: #555;
      font-size: 0.95rem;
    }

    .panel-controles {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      align-items: center;
      justify-content: space-between;
      margin: 15px 0;
      padding: 10px;
      background: #f0f4f8;
      border-radius: 8px;
      font-size: 0.95rem;
    }

    .botones {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    button {
      border: none;
      padding: 8px 14px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 0.9rem;
    }

    button#btnRevisar {
      background: #27ae60;
      color: white;
    }

    button#btnLimpiar {
      background: #e67e22;
      color: white;
    }

    button#btnMostrar {
      background: #2980b9;
      color: white;
    }

    button#btnRevisar:hover { background: #1e8b4a; }
    button#btnLimpiar:hover { background: #cf6a16; }
    button#btnMostrar:hover { background: #21689a; }

    .resultado-global {
      font-weight: bold;
      color: #2c3e50;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
      font-size: 0.95rem;
    }

    th, td {
      border-bottom: 1px solid #eee;
      padding: 8px;
      text-align: center;
    }

    th {
      background: #ecf0f1;
      font-weight: 600;
    }

    tr:nth-child(even) td {
      background: #fafafa;
    }

    input[type="number"] {
      width: 80px;
      padding: 4px 6px;
      border-radius: 4px;
      border: 1px solid #bbb;
      text-align: center;
    }

    .correcto {
      color: #27ae60;
      font-weight: 600;
    }

    .incorrecto {
      color: #c0392b;
      font-weight: 600;
    }

    .respuesta-correcta {
      font-size: 0.85rem;
      color: #555;
    }

    @media (max-width: 600px) {
      main {
        margin: 10px;
        padding: 15px;
      }
      table, thead, tbody, th, td, tr {
        font-size: 0.85rem;
      }
      input[type="number"] {
        width: 70px;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>Práctica interactiva: Multiplicación 2 cifras × 2 cifras</h1>
    <p class="descripcion">Resuelve mentalmente cada ejercicio y escribe el resultado. Luego haz clic en "Revisar respuestas".</p>
  </header>

  <main>
    <section class="panel-controles">
      <div class="resultado-global" id="resultadoGlobal">
        Aún no has revisado tus respuestas.
      </div>
      <div class="botones">
        <button id="btnRevisar">Revisar respuestas</button>
        <button id="btnLimpiar">Limpiar respuestas</button>
        <button id="btnMostrar">Mostrar respuestas correctas</button>
      </div>
    </section>

    <table>
      <thead>
        <tr>
          <th>#</th>
          <th>Operación</th>
          <th>Tu respuesta</th>
          <th>Estado</th>
          <th>Respuesta correcta</th>
        </tr>
      </thead>
      <tbody id="tablaEjercicios">
        <!-- Se llena con JavaScript -->
      </tbody>
    </table>
  </main>

  <script>
    // Lista de 30 ejercicios (a × b) con su resultado correcto
    const ejercicios = [
      { a: 14, b: 12, resultado: 168 },
      { a: 19, b: 15, resultado: 285 },
      { a: 25, b: 16, resultado: 400 },
      { a: 31, b: 11, resultado: 341 },
      { a: 23, b: 14, resultado: 322 },
      { a: 18, b: 17, resultado: 306 },
      { a: 22, b: 19, resultado: 418 },
      { a: 27, b: 24, resultado: 648 },
      { a: 35, b: 18, resultado: 630 },
      { a: 42, b: 21, resultado: 882 },
      { a: 29, b: 31, resultado: 899 },
      { a: 32, b: 25, resultado: 800 },
      { a: 48, b: 21, resultado: 1008 },
      { a: 36, b: 27, resultado: 972 },
      { a: 44, b: 16, resultado: 704 },
      { a: 39, b: 22, resultado: 858 },
      { a: 52, b: 19, resultado: 988 },
      { a: 28, b: 34, resultado: 952 },
      { a: 45, b: 26, resultado: 1170 },
      { a: 33, b: 17, resultado: 561 },
      { a: 24, b: 29, resultado: 696 },
      { a: 41, b: 23, resultado: 943 },
      { a: 37, b: 18, resultado: 666 },
      { a: 56, b: 15, resultado: 840 },
      { a: 63, b: 14, resultado: 882 },
      { a: 47, b: 32, resultado: 1504 },
      { a: 54, b: 29, resultado: 1566 },
      { a: 38, b: 25, resultado: 950 },
      { a: 49, b: 27, resultado: 1323 },
      { a: 58, b: 16, resultado: 928 }
    ];

    const cuerpoTabla = document.getElementById("tablaEjercicios");
    const resultadoGlobal = document.getElementById("resultadoGlobal");
    const btnRevisar = document.getElementById("btnRevisar");
    const btnLimpiar = document.getElementById("btnLimpiar");
    const btnMostrar = document.getElementById("btnMostrar");

    // Crear filas de la tabla
    ejercicios.forEach((ej, idx) => {
      const fila = document.createElement("tr");

      // Número de ejercicio
      const celdaNum = document.createElement("td");
      celdaNum.textContent = idx + 1;

      // Operación
      const celdaOp = document.createElement("td");
      celdaOp.textContent = `${ej.a} × ${ej.b}`;

      // Input respuesta
      const celdaInput = document.createElement("td");
      const input = document.createElement("input");
      input.type = "number";
      input.min = "0";
      input.setAttribute("data-indice", idx);
      celdaInput.appendChild(input);

      // Estado
      const celdaEstado = document.createElement("td");
      celdaEstado.id = `estado-${idx}`;
      celdaEstado.textContent = "";

      // Respuesta correcta (inicialmente oculta)
      const celdaCorrecta = document.createElement("td");
      const spanCorrecta = document.createElement("span");
      spanCorrecta.id = `correcta-${idx}`;
      spanCorrecta.className = "respuesta-correcta";
      spanCorrecta.textContent = "—";
      celdaCorrecta.appendChild(spanCorrecta);

      fila.appendChild(celdaNum);
      fila.appendChild(celdaOp);
      fila.appendChild(celdaInput);
      fila.appendChild(celdaEstado);
      fila.appendChild(celdaCorrecta);

      cuerpoTabla.appendChild(fila);
    });

    // Revisar respuestas
    btnRevisar.addEventListener("click", () => {
      const inputs = cuerpoTabla.querySelectorAll("input[type='number']");
      let correctas = 0;

      inputs.forEach((input) => {
        const indice = Number(input.getAttribute("data-indice"));
        const valor = input.value === "" ? null : Number(input.value);
        const estadoCelda = document.getElementById(`estado-${indice}`);

        if (valor === null) {
          estadoCelda.textContent = "Sin respuesta";
          estadoCelda.className = "incorrecto";
          return;
        }

        if (valor === ejercicios[indice].resultado) {
          estadoCelda.textContent = "✔ Correcto";
          estadoCelda.className = "correcto";
          correctas++;
        } else {
          estadoCelda.textContent = "✘ Incorrecto";
          estadoCelda.className = "incorrecto";
        }
      });

      resultadoGlobal.textContent = `Has obtenido ${correctas} de ${ejercicios.length} respuestas correctas.`;
    });

    // Limpiar respuestas
    btnLimpiar.addEventListener("click", () => {
      const inputs = cuerpoTabla.querySelectorAll("input[type='number']");
      inputs.forEach((input) => { input.value = ""; });

      ejercicios.forEach((_, idx) => {
        const estadoCelda = document.getElementById(`estado-${idx}`);
        const spanCorrecta = document.getElementById(`correcta-${idx}`);
        estadoCelda.textContent = "";
        estadoCelda.className = "";
        spanCorrecta.textContent = "—";
      });

      resultadoGlobal.textContent = "Aún no has revisado tus respuestas.";
    });

    // Mostrar respuestas correctas
    btnMostrar.addEventListener("click", () => {
      ejercicios.forEach((ej, idx) => {
        const spanCorrecta = document.getElementById(`correcta-${idx}`);
        spanCorrecta.textContent = ej.resultado;
      });
    });
  </script>
</body>
</html>
